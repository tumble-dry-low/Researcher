Metadata-Version: 2.4
Name: researcher-kb
Version: 0.1.0
Summary: Multi-agent research orchestration system
License: MIT
Requires-Python: >=3.7
Description-Content-Type: text/markdown

# Researcher ðŸ”¬

A multi-agent research orchestration system. Agents add information via simple CLI commands â€” the system manages storage, linking, verification, and coordination automatically.

## Overview

- **Entities**: Research notes with automatic ID generation, tree-structured
- **Claims & Sources**: Graded assertions with provenance tracking
- **Verification**: SAFE-style claim decomposition, self-consistency sampling, FRONT quote-first citation
- **Multi-Agent Coordination**: Route tasks to the right coordinator, spawn sub-agents, track convergence
- **Decision Support**: MCDA scoring, sensitivity analysis, perspective discovery

## Architecture

```
Researcher/
â”œâ”€â”€ kb.py                 # Core engine (~3900 lines, ~90 methods)
â”œâ”€â”€ kb-cli                # CLI interface (~460 lines, ~48 commands)
â”œâ”€â”€ knowledge-base/
â”‚   â””â”€â”€ kb.db             # SQLite research database (WAL mode, FTS5)
â””â”€â”€ docs/
    â”œâ”€â”€ COPILOT_CLI_GUIDE.md        # Usage guide & integration patterns
    â”œâ”€â”€ AUTOMATED_KB.md             # Automation patterns
    â”œâ”€â”€ agents/
    â”‚   â”œâ”€â”€ coordinators/           # Multi-agent orchestration
    â”‚   â”‚   â”œâ”€â”€ HIERARCHICAL_PLANNER_AGENT.md
    â”‚   â”‚   â”œâ”€â”€ SWARM_COORDINATOR_AGENT.md
    â”‚   â”‚   â””â”€â”€ PIPELINE_MANAGER_AGENT.md
    â”‚   â””â”€â”€ specialists/            # Task-specific agents
    â”‚       â”œâ”€â”€ CODE_ANALYZER_AGENT.md
    â”‚       â”œâ”€â”€ CRITIC_AGENT.md
    â”‚       â”œâ”€â”€ DECISION_LOG_AGENT.md
    â”‚       â”œâ”€â”€ DOMAIN_EXPERT_AGENT.md
    â”‚       â”œâ”€â”€ GAP_DETECTOR_AGENT.md
    â”‚       â”œâ”€â”€ LEARNING_PATH_AGENT.md
    â”‚       â”œâ”€â”€ MONITOR_AGENT.md
    â”‚       â”œâ”€â”€ QUANTITATIVE_AGENT.md
    â”‚       â””â”€â”€ SYNTHESIZER_AGENT.md
    â””â”€â”€ examples/
        â””â”€â”€ demo-coordinators.sh
```

## Agents

### Coordinator Agents (Orchestration)

| Agent | Strategy | Best For |
|-------|----------|----------|
| [Hierarchical Planner](docs/agents/coordinators/HIERARCHICAL_PLANNER_AGENT.md) | Top-down decomposition | Complex projects with clear structure |
| [Swarm Coordinator](docs/agents/coordinators/SWARM_COORDINATOR_AGENT.md) | Parallel exploration | Uncertain problems, broad research |
| [Pipeline Manager](docs/agents/coordinators/PIPELINE_MANAGER_AGENT.md) | Sequential chaining | Linear workflows, validation gates |

### Specialist Agents (Task Execution)

| Agent | Purpose |
|-------|---------|
| [Code Analyzer](docs/agents/specialists/CODE_ANALYZER_AGENT.md) | Codebase analysis, architecture docs, technical debt |
| [Critic](docs/agents/specialists/CRITIC_AGENT.md) | Adversarial review: circular reasoning, bias, overconfidence |
| [Decision Log](docs/agents/specialists/DECISION_LOG_AGENT.md) | Technical decisions with rationale, alternatives, evolution |
| [Domain Expert](docs/agents/specialists/DOMAIN_EXPERT_AGENT.md) | Pluggable domain specialization (physics, materials, etc.) |
| [Gap Detector](docs/agents/specialists/GAP_DETECTOR_AGENT.md) | Coverage gaps, missing perspectives, thin subtopics |
| [Learning Path](docs/agents/specialists/LEARNING_PATH_AGENT.md) | Personalized curricula, skill trees, knowledge gaps |
| [Monitor](docs/agents/specialists/MONITOR_AGENT.md) | Tree health: empty nodes, imbalance, stalls |
| [Quantitative](docs/agents/specialists/QUANTITATIVE_AGENT.md) | Unit verification, magnitude plausibility, uncertainty |
| [Synthesizer](docs/agents/specialists/SYNTHESIZER_AGENT.md) | STORM-style themed reports with audience adaptation |

**Coordinators orchestrate specialists.** A Swarm Coordinator might spawn 8 parallel researchers, then run Critic + Gap Detector on the results. Coordinators can also invoke other coordinators for recursive decomposition.

## Quick Start

```bash
# Prerequisites: Python 3.7+, SQLite (built-in)

# Add a research entity
ID=$(./kb-cli add "Research Question" "Content here" '{"type":"question"}')

# Add claims with sources
./kb-cli add-claim $ID "Key finding from research" 0.8 0.9

# Link entities into a tree
./kb-cli link $ID $CHILD_ID "child"

# Review quality (runs 4 checks: structural, critique, gaps, quantitative)
./kb-cli review $ID full

# Generate a report
./kb-cli report $ID synthesize executive

# Route a task to the best coordinator
./kb-cli route "Research quantum computing applications"

# Spawn sub-agents
./kb-cli spawn $ID "Deep dive: subtopic" "Investigate..." swarm_coordinator
```

## CLI Reference

```
ENTITIES                                          CLAIMS
  add <title> [content] [meta]                      add-claim <eid> <text> [conf] [cred]
  get <id>                                          claim <id>
  update <id> [title] [content] [meta]              claims <eid> [min_conf]
  list [type]                                       decompose <claim_id>
  search <query> [--all]
  stats                                           REVIEW & QA
  export <id>                                       review <eid> quick|full
  graph <id> [depth]                                qa <eid> [samples]
                                                    verify <claim_id>
LINKS & TASKS                                       grade-sc <claim_id> [samples]
  link <from> <to> <type>
  links <id>                                      REPORTS
  add-task <title> [desc] [eid] [meta]              report <eid> full|outline|synthesize [audience]
  tasks [status] [eid]                              contradictions <eid>
  update-task <task_id> <status>                    corroboration <eid>

SOURCES                                           COORDINATION
  add-source <url> [title] [snippet] [type]         route <description>
  sources <eid>                                     spawn <parent> <title> <desc> [coordinator]
                                                    budget <eid>
EVALUATIONS                                         context <eid>
  add-eval <eid> <max_iter> [criteria]              monitor <eid>
  eval <id>
  evals [eid]                                     EXPERT & DECISIONS
  update-eval <id> <data>                           expert list|match|review
  converged <eval_id>                               decide add|score|sensitivity|get

TRACES & PERSPECTIVES                             EMBEDDINGS
  trace <eid> <step> <detail> [meta]                embed all|entity|claim
  traces <eid>                                      semantic <query> [k]
  perspectives <eid>                                hybrid <query> [k]
                                                    gaps select|register
```

## Database Schema

| Table | Purpose |
|-------|---------|
| `entities` | Research nodes (id, title, content, metadata, timestamps) |
| `claims` | Graded assertions (confidence, credibility, grade) |
| `sources` | URLs, snippets, types |
| `claim_sources` | Many-to-many claimâ†”source |
| `links` | Entity relationships (from, to, type) |
| `tasks` | Backlog items tied to entities |
| `traces` | Reasoning step logs |
| `evaluations` | Convergence tracking for multi-wave research |
| `decisions` | MCDA alternatives with criteria scores |
| `entities_fts` / `claims_fts` | FTS5 full-text search indexes |

## Prerequisites

- Python 3.7+
- SQLite (built-in)
- Optional: `sqlite-vec` for vector search (falls back to FTS5 gracefully)

## License

MIT
